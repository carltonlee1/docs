---
title: "Response Schemas"
description: "Complete reference for response data structures"
---

## Routing Decision Response

### Schema

```json
{
  "decision_id": "string (UUID)",
  "selected_model": "string",
  "provider": "string",
  "confidence": "float (0.0-1.0)",
  "estimated_cost_usd": "float",
  "fallback_models": ["string"],
  "reasoning": "string",
  "timestamp": "string (ISO 8601)",
  "routing_method": "string",
  "routing_latency_ms": "float (optional)",
  "heuristic_rule_name": "string (optional)",
  "heuristic_pattern_type": "string (optional)"
}
```

### Field Descriptions

#### `decision_id`
- **Type**: string (UUID)
- **Example**: `"550e8400-e29b-41d4-a716-446655440000"`
- **Description**: Unique identifier for this routing decision
- **Use**: Retrieve decision later via `GET /v1/routes/{id}` or submit feedback

#### `selected_model`
- **Type**: string
- **Example**: `"gpt-4-turbo-preview"`
- **Description**: Recommended model ID
- **Use**: Pass this to the provider's API

#### `provider`
- **Type**: string
- **Example**: `"openai"`
- **Allowed values**: `openai`, `anthropic`, `google`
- **Description**: Provider to use for this model

#### `confidence`
- **Type**: float
- **Range**: 0.0 to 1.0
- **Example**: `0.95`
- **Description**: Confidence score for this routing decision
- **Interpretation**:
  - `0.9-1.0`: Very confident
  - `0.7-0.9`: Confident
  - `0.5-0.7`: Moderately confident
  - `<0.5`: Low confidence (consider fallbacks)

#### `estimated_cost_usd`
- **Type**: float
- **Example**: `0.015`
- **Description**: Estimated cost in USD for this completion
- **Note**: Actual cost may vary based on actual token usage

#### `fallback_models`
- **Type**: array of strings
- **Example**: `["gpt-4", "claude-3-opus"]`
- **Description**: Alternative model IDs in priority order
- **Use**: Implement automatic failover logic if primary model fails

#### `reasoning`
- **Type**: string
- **Example**: `"GPT-4 Turbo selected for code generation task with high quality requirements"`
- **Description**: Human-readable explanation of why this model was selected

#### `timestamp`
- **Type**: string (ISO 8601)
- **Example**: `"2025-11-11T15:30:00Z"`
- **Description**: When this decision was created

#### `routing_method`
- **Type**: string
- **Example**: `"heuristic"`
- **Allowed values**: `heuristic`, `ml`, `policy`
- **Description**: Method used to make the routing decision
  - `heuristic`: Fast rule-based matching
  - `ml`: Machine learning model prediction
  - `policy`: Policy-based routing

#### `routing_latency_ms`
- **Type**: float (optional)
- **Example**: `1.8`
- **Description**: Time taken to make the routing decision in milliseconds

#### `heuristic_rule_name`
- **Type**: string (optional)
- **Example**: `"python_code_requests"`
- **Description**: Name of the heuristic rule that matched (only when `routing_method` is `heuristic`)

#### `heuristic_pattern_type`
- **Type**: string (optional)
- **Example**: `"keyword"`
- **Description**: Type of pattern that matched (only when `routing_method` is `heuristic`)

### Example Responses

#### Standard Response (Heuristic Routing)

```json
{
  "decision_id": "550e8400-e29b-41d4-a716-446655440000",
  "selected_model": "gpt-5.1",
  "provider": "openai",
  "confidence": 0.95,
  "estimated_cost_usd": 0.015,
  "fallback_models": ["claude-sonnet-4-5-20250929", "gemini-3-pro"],
  "reasoning": "Selected GPT-5.1 for optimal cost/quality balance based on prompt complexity",
  "timestamp": "2025-11-25T15:30:00Z",
  "routing_method": "heuristic",
  "routing_latency_ms": 1.8,
  "heuristic_rule_name": "python_code_requests",
  "heuristic_pattern_type": "keyword"
}
```

#### Cost-Optimized Response (Policy Routing)

```json
{
  "decision_id": "660f9511-f39c-52e5-b827-557766551111",
  "selected_model": "claude-haiku-4-5-20251001",
  "provider": "anthropic",
  "confidence": 0.88,
  "estimated_cost_usd": 0.002,
  "fallback_models": ["gpt-5.1-mini", "gemini-3-flash"],
  "reasoning": "Claude 4.5 Haiku selected to meet max_cost_usd constraint of 0.01",
  "timestamp": "2025-11-25T15:35:00Z",
  "routing_method": "policy",
  "routing_latency_ms": 2.1
}
```

## Next Steps

- [Request Schemas](/docs/api/schemas/request-schemas)
- [Error Schemas](/docs/api/schemas/error-schemas)
- [API Endpoints](/docs/api/endpoints/index)
