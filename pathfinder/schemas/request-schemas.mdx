---
title: "Request Schemas"
description: "Complete reference for request data structures"
---

## Routing Decision Request

### Schema

```json
{
  "prompt": "string (required, max 100,000 chars)",
  "constraints": ["string"] (optional),
  "max_cost_usd": "float (optional)",
  "policy_name": "string (optional)"
}
```

### Field Descriptions

#### `prompt` (required)
- **Type**: string
- **Max length**: 100,000 characters
- **Description**: The prompt to route
- **Privacy**: Never stored in raw form, only SHA-256 hash

#### `constraints` (optional)
- **Type**: array of strings
- **Description**: Routing constraints to apply
- **Examples**:
  - `["provider:openai"]` - Route only to OpenAI models
  - `["only-gpt4"]` - Restrict to GPT-4 models
  - `["no-anthropic"]` - Exclude Anthropic models
  - `["capability:code_generation"]` - Require code generation capability

#### `max_cost_usd` (optional)
- **Type**: float
- **Min**: 0.0
- **Default**: 0.01 (1 cent) if not specified
- **Description**: Maximum acceptable cost in USD per request
- **Example**: 0.05

#### `policy_name` (optional)
- **Type**: string
- **Description**: Specific routing policy to use
- **Allowed values**:
  - `cost_optimized` - Minimize cost while meeting requirements
  - `quality_first` - Prioritize model quality over cost
  - `balanced` - Balance cost and quality (default)

### Examples

#### Minimal Request

```json
{
  "prompt": "Write a Python function that calculates fibonacci numbers"
}
```

#### Request with Cost Constraint

```json
{
  "prompt": "Explain quantum computing in simple terms",
  "max_cost_usd": 0.01
}
```

#### Request with Provider Constraint

```json
{
  "prompt": "Translate 'hello' to Spanish",
  "constraints": ["provider:openai"]
}
```

#### Request with Capability Constraint

```json
{
  "prompt": "Write a binary search algorithm in Rust",
  "constraints": ["capability:code_generation"]
}
```

#### Request with Multiple Constraints

```json
{
  "prompt": "Generate a product description",
  "constraints": ["provider:anthropic"],
  "max_cost_usd": 0.05,
  "policy_name": "quality_first"
}
```

## Validation Rules

| Field | Rule | Error Code |
|-------|------|-----------|
| `prompt` | Required | `missing_prompt` |
| `prompt` | Max 100,000 chars | `prompt_too_long` |
| `prompt` | Cannot be empty/whitespace | `invalid_prompt` |
| `constraints` | Cannot contain empty strings | `invalid_constraint` |
| `max_cost_usd` | Min 0.0 | `invalid_cost` |

## Next Steps

- [Response Schemas](/docs/api/schemas/response-schemas)
- [Error Schemas](/docs/api/schemas/error-schemas)
- [API Endpoints](/docs/api/endpoints/index)
